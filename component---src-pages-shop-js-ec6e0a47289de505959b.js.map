{"version":3,"sources":["webpack:///./src/pages/shop.js"],"names":["query","Shop","state","posts","componentDidMount","getposts","this","props","data","prismicShop","seo_instagram","then","setState","render","lang","seo_title","seo_description","seo_author","seo_icon","logo","cover","baseline","opening","address","phone","content","meta","property","dimensions","width","height","title","page","text","description","author","thumbnail","url","style","backgroundImage","role","aria-label","href","dangerouslySetInnerHTML","__html","html","map","post","index","key","src","React","Component","defaultProps"],"mappings":"6OASO,IAAMA,EAAK,aAsCZC,E,6PACJC,MAAQ,CAAEC,MAAO,I,6BAEjBC,kBAAA,WAAqB,IAAD,OAClBC,YAASC,KAAKC,MAAMC,KAAKC,YAAYD,KAAKE,eACvCC,MAAK,SAAAR,GAAK,OAAI,EAAKS,SAAS,CAAET,c,EAGnCU,OAAA,WAAU,IAAD,EACgBP,KAAKC,MAApBO,EADD,EACCA,KAAMN,EADP,EACOA,KACNL,EAAUG,KAAKJ,MAAfC,MAFD,EAGiBK,EAAhBC,YAcQD,KAXdO,EANK,EAMLA,UACAC,EAPK,EAOLA,gBACAC,EARK,EAQLA,WACAC,EATK,EASLA,SACAC,EAVK,EAULA,KACAC,EAXK,EAWLA,MACAC,EAZK,EAYLA,SACAC,EAbK,EAaLA,QACAC,EAdK,EAcLA,QACAC,EAfK,EAeLA,MACAC,EAhBK,EAgBLA,QAGIC,EAAO,CAAC,CACZC,SAAU,iBACVF,QAASP,EAASU,WAAWC,OAC5B,CACDF,SAAU,kBACVF,QAASP,EAASU,WAAWE,SAG/B,OACE,oCACE,kBAAC,IAAD,CACEhB,KAAMA,EACNiB,MAAOhB,EACPiB,KAAMX,EAASY,KACfC,YAAalB,EACbmB,OAAQlB,EACRmB,UAAWlB,EAASmB,IACpBX,KAAMA,IAER,gCACE,6BAASY,MAAO,CAAEC,gBAAgB,OAAQnB,EAAMiB,IAAf,OACjC,gCACE,wBAAIC,MAAO,CAAEC,gBAAgB,OAAQpB,EAAKkB,IAAd,MAA0BtB,GACtD,4BAAMM,EAASY,MACf,4BAAI,0BAAMO,KAAK,MAAMC,aAAW,QAA5B,MAA8CnB,EAAQW,MAC1D,iCAAS,0BAAMO,KAAK,MAAMC,aAAW,YAA5B,MAAkDlB,EAAQU,MACnE,+BAAO,0BAAMO,KAAK,MAAMC,aAAW,SAA5B,MAA6C,uBAAGC,KAAI,OAASlB,GAAWA,MAInF,6BAASmB,wBAAyB,CAAEC,OAAQnB,EAAQoB,QAEpD,+BACI1C,EAAM2C,KAAI,SAACC,EAAMC,GAAP,OAAiB,kBAAC,IAAD,eAAMC,IAAKD,GAAWD,QAGrD,4BAAQG,IAAI,sEAAsEnB,MAAM,SAExF,qDAA+B,0BAAMS,KAAK,MAAMC,aAAW,QAA5B,MAA/B,OAA+E,uBAAGC,KAAK,8BAAR,Y,GAjEpES,IAAMC,WA2EzBnD,EAAKoD,aAAe,CAClBvC,KAAM,SAGOb","file":"component---src-pages-shop-js-ec6e0a47289de505959b.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { graphql } from \"gatsby\"\nimport getposts from \"../instagram\"\n\nimport SEO from \"../components/seo\"\nimport Post from \"../components/post\"\n\nexport const query = graphql`\n  query ShopQuery($uid: String) {\n    prismicShop(uid: {eq: $uid}) {\n      data {\n        seo_title\n        seo_description\n        seo_author\n        seo_instagram\n        seo_icon {\n          dimensions {\n            width\n            height\n          }\n          url\n        }\n        logo {\n          url\n        }\n        cover {\n          url\n        }\n        baseline {\n          text\n        }\n        opening {\n          text\n        }\n        address {\n          text\n        }\n        phone\n        content {\n          html\n        }          \n      }\n    }\n  }`\n\nclass Shop extends React.Component {\n  state = { posts: [] }\n\n  componentDidMount() {\n    getposts(this.props.data.prismicShop.data.seo_instagram)\n      .then(posts => this.setState({ posts }))\n  }\n\n  render() {\n    const { lang, data } = this.props\n    const { posts } = this.state \n    const { prismicShop } = data\n\n    const {\n      seo_title,\n      seo_description,\n      seo_author,\n      seo_icon,\n      logo,\n      cover,\n      baseline,\n      opening,\n      address,\n      phone,\n      content,\n    } = prismicShop.data\n\n    const meta = [{\n      property: 'og:image:width',\n      content: seo_icon.dimensions.width,\n    }, {\n      property: 'og:image:height',\n      content: seo_icon.dimensions.height,\n    }]\n\n    return (\n      <>\n        <SEO\n          lang={lang}\n          title={seo_title}\n          page={baseline.text}\n          description={seo_description}\n          author={seo_author}\n          thumbnail={seo_icon.url}\n          meta={meta} />\n\n        <header>\n          <picture style={{ backgroundImage: `url(${cover.url})` }}></picture>\n          <hgroup>\n            <h1 style={{ backgroundImage: `url(${logo.url})` }}>{ seo_title }</h1>\n            <h2>{ baseline.text }</h2>\n            <h3><span role=\"img\" aria-label=\"time\">üïñ</span>{ opening.text }</h3>\n            <address><span role=\"img\" aria-label=\"location\">üìç</span>{ address.text }</address>\n            <phone><span role=\"img\" aria-label=\"phone\">üìû</span><a href={`tel:${phone}`}>{ phone }</a></phone>\n          </hgroup>\n        </header>\n\n        <section dangerouslySetInnerHTML={{ __html: content.html }}></section>\n\n        <aside>\n          { posts.map((post, index) => <Post key={index} {...post}  />) }\n        </aside>\n\n        <iframe src=\"https://maps.google.com/maps?q=panda%20sake%20bar&z=13&output=embed\" title=\"maps\"></iframe>\n      \n        <footer>&copy;2018 ‚Äì made with <span role=\"img\" aria-label=\"fuel\">üçô</span> by <a href=\"https://instagram.com/y_nk\">@y_nk</a></footer>\n      </>\n    )\n  }\n}\n\nShop.propTypes = {\n  lang: PropTypes.oneOf(['en-us', 'ja-jp']).isRequired,\n}\n\nShop.defaultProps = {\n  lang: 'ja-jp'\n}\n\nexport default Shop\n"],"sourceRoot":""}